{"ast":null,"code":"const languageCodeMap = {\n  cpp: 54,\n  python: 92,\n  javascript: 93,\n  java: 91\n};\nasync function getSubmission(tokenId, callback) {\n  const url = 'https://judge0-ce.p.rapidapi.com/submissions?base64_encoded=tru&fields=*';\n  const options = {\n    method: 'GET',\n    headers: {\n      'x-rapidapi-key': '2b54eda198mshe2350b9c952fcc7p148efejsn7ba0ddbd05af',\n      'x-rapidapi-host': 'judge0-ce.p.rapidapi.com',\n      'Content-Type': 'application/json'\n    }\n  };\n  try {\n    const response = await fetch(url, options);\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    callback({\n      apiStatus: 'error',\n      message: JSON.stringify(error)\n    });\n  }\n}\nexport async function makeSubmission({\n  code,\n  language,\n  callback,\n  stdin\n}) {\n  //make a submission handle the status of the submission\n  const url = `https://judge0-ce.p.rapidapi.com/submissions/${tokenId}?base64_encoded=tru&fields=*`;\n  const httpOptions = {\n    method: 'POST',\n    headers: {\n      'x-rapidapi-key': '2b54eda198mshe2350b9c952fcc7p148efejsn7ba0ddbd05af',\n      'x-rapidapi-host': 'judge0-ce.p.rapidapi.com',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      language_id: languageCodeMap[language],\n      source_code: btoa(code),\n      stdin: btoa(stdin)\n    })\n  };\n\n  /*\r\n      generic response from this function\r\n      {\r\n          apiStatus : 'loading' | 'error' | 'success',\r\n          data : response,\r\n          message: 'Runtime error' | 'Compilation erro'\r\n      }\r\n  */\n  try {\n    callback({\n      apiStatus: 'loading'\n    });\n    const response = await fetch(url, httpOptions);\n    const result = await response.json();\n    const tokenId = result.token;\n    let statusCode = 1;\n    let apiSubmissionResult;\n    while (statusCode === 1 || statusCode === 2) {\n      try {\n        apiSubmissionResult = await getSubmission(tokenId);\n        statusCode = apiSubmissionResult.status.id;\n      } catch (error) {\n        callback({\n          apiStatus: 'error',\n          message: JSON.stringify(error)\n        });\n        return;\n      }\n    }\n    if (apiSubmissionResult) {\n      callback({\n        apiStatus: 'success',\n        data: apiSubmissionResult\n      });\n    }\n  } catch (error) {\n    callback({\n      apiStatus: 'error',\n      message: JSON.stringify(error)\n    });\n  }\n}","map":{"version":3,"names":["languageCodeMap","cpp","python","javascript","java","getSubmission","tokenId","callback","url","options","method","headers","response","fetch","result","json","error","apiStatus","message","JSON","stringify","makeSubmission","code","language","stdin","httpOptions","body","language_id","source_code","btoa","token","statusCode","apiSubmissionResult","status","id","data"],"sources":["C:/Users/DILEEP/OneDrive/Desktop/Codedeck/frontend/src/screens/PlaygroundScreen/service.js"],"sourcesContent":["\r\nconst languageCodeMap = {\r\n    cpp: 54,\r\n    python: 92,\r\n    javascript: 93,\r\n    java: 91\r\n}\r\n\r\nasync function getSubmission(tokenId,callback) {\r\n    const url = 'https://judge0-ce.p.rapidapi.com/submissions?base64_encoded=tru&fields=*';\r\n    const options = {\r\n        method: 'GET',\r\n        headers: {\r\n            'x-rapidapi-key': '2b54eda198mshe2350b9c952fcc7p148efejsn7ba0ddbd05af',\r\n            'x-rapidapi-host': 'judge0-ce.p.rapidapi.com',\r\n            'Content-Type': 'application/json'\r\n        }\r\n    };\r\n    \r\n    try{\r\n        const response = await fetch(url,options);\r\n        const result = await response.json();\r\n        return result;\r\n    }catch(error){\r\n        callback({apiStatus:'error',message:JSON.stringify(error)})\r\n    }\r\n}\r\n\r\nexport async function makeSubmission({code, language, callback,stdin}) {\r\n    //make a submission handle the status of the submission\r\n    const url = `https://judge0-ce.p.rapidapi.com/submissions/${tokenId}?base64_encoded=tru&fields=*`;\r\n    const httpOptions = {\r\n        method: 'POST',\r\n        headers: {\r\n            'x-rapidapi-key': '2b54eda198mshe2350b9c952fcc7p148efejsn7ba0ddbd05af',\r\n            'x-rapidapi-host': 'judge0-ce.p.rapidapi.com',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            language_id: languageCodeMap[language],\r\n            source_code: btoa(code),\r\n            stdin: btoa(stdin)\r\n        })\r\n    };\r\n\r\n    /*\r\n        generic response from this function\r\n        {\r\n            apiStatus : 'loading' | 'error' | 'success',\r\n            data : response,\r\n            message: 'Runtime error' | 'Compilation erro'\r\n        }\r\n    */\r\n    try{\r\n        callback({apiStatus : 'loading'})\r\n        const response = await fetch(url,httpOptions);\r\n        const result = await response.json();\r\n        const tokenId = result.token;\r\n        let statusCode = 1;\r\n        let apiSubmissionResult;\r\n        while(statusCode === 1 || statusCode === 2){\r\n            try{\r\n                 apiSubmissionResult = await getSubmission(tokenId)\r\n                statusCode = apiSubmissionResult.status.id;\r\n            }catch(error){\r\n                callback({apiStatus:'error',message:JSON.stringify(error)})\r\n                return;\r\n            }\r\n        }\r\n        if(apiSubmissionResult){\r\n            callback({apiStatus:'success',data:apiSubmissionResult})\r\n        }\r\n    }\r\n    catch(error){\r\n        callback({\r\n            apiStatus:'error',\r\n            message:JSON.stringify(error)\r\n        })\r\n    }\r\n}"],"mappings":"AACA,MAAMA,eAAe,GAAG;EACpBC,GAAG,EAAE,EAAE;EACPC,MAAM,EAAE,EAAE;EACVC,UAAU,EAAE,EAAE;EACdC,IAAI,EAAE;AACV,CAAC;AAED,eAAeC,aAAaA,CAACC,OAAO,EAACC,QAAQ,EAAE;EAC3C,MAAMC,GAAG,GAAG,0EAA0E;EACtF,MAAMC,OAAO,GAAG;IACZC,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MACL,gBAAgB,EAAE,oDAAoD;MACtE,iBAAiB,EAAE,0BAA0B;MAC7C,cAAc,EAAE;IACpB;EACJ,CAAC;EAED,IAAG;IACC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACL,GAAG,EAACC,OAAO,CAAC;IACzC,MAAMK,MAAM,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;IACpC,OAAOD,MAAM;EACjB,CAAC,QAAME,KAAK,EAAC;IACTT,QAAQ,CAAC;MAACU,SAAS,EAAC,OAAO;MAACC,OAAO,EAACC,IAAI,CAACC,SAAS,CAACJ,KAAK;IAAC,CAAC,CAAC;EAC/D;AACJ;AAEA,OAAO,eAAeK,cAAcA,CAAC;EAACC,IAAI;EAAEC,QAAQ;EAAEhB,QAAQ;EAACiB;AAAK,CAAC,EAAE;EACnE;EACA,MAAMhB,GAAG,GAAG,gDAAgDF,OAAO,8BAA8B;EACjG,MAAMmB,WAAW,GAAG;IAChBf,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACL,gBAAgB,EAAE,oDAAoD;MACtE,iBAAiB,EAAE,0BAA0B;MAC7C,cAAc,EAAE;IACpB,CAAC;IACDe,IAAI,EAAEP,IAAI,CAACC,SAAS,CAAC;MACjBO,WAAW,EAAE3B,eAAe,CAACuB,QAAQ,CAAC;MACtCK,WAAW,EAAEC,IAAI,CAACP,IAAI,CAAC;MACvBE,KAAK,EAAEK,IAAI,CAACL,KAAK;IACrB,CAAC;EACL,CAAC;;EAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;EACI,IAAG;IACCjB,QAAQ,CAAC;MAACU,SAAS,EAAG;IAAS,CAAC,CAAC;IACjC,MAAML,QAAQ,GAAG,MAAMC,KAAK,CAACL,GAAG,EAACiB,WAAW,CAAC;IAC7C,MAAMX,MAAM,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;IACpC,MAAMT,OAAO,GAAGQ,MAAM,CAACgB,KAAK;IAC5B,IAAIC,UAAU,GAAG,CAAC;IAClB,IAAIC,mBAAmB;IACvB,OAAMD,UAAU,KAAK,CAAC,IAAIA,UAAU,KAAK,CAAC,EAAC;MACvC,IAAG;QACEC,mBAAmB,GAAG,MAAM3B,aAAa,CAACC,OAAO,CAAC;QACnDyB,UAAU,GAAGC,mBAAmB,CAACC,MAAM,CAACC,EAAE;MAC9C,CAAC,QAAMlB,KAAK,EAAC;QACTT,QAAQ,CAAC;UAACU,SAAS,EAAC,OAAO;UAACC,OAAO,EAACC,IAAI,CAACC,SAAS,CAACJ,KAAK;QAAC,CAAC,CAAC;QAC3D;MACJ;IACJ;IACA,IAAGgB,mBAAmB,EAAC;MACnBzB,QAAQ,CAAC;QAACU,SAAS,EAAC,SAAS;QAACkB,IAAI,EAACH;MAAmB,CAAC,CAAC;IAC5D;EACJ,CAAC,CACD,OAAMhB,KAAK,EAAC;IACRT,QAAQ,CAAC;MACLU,SAAS,EAAC,OAAO;MACjBC,OAAO,EAACC,IAAI,CAACC,SAAS,CAACJ,KAAK;IAChC,CAAC,CAAC;EACN;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}